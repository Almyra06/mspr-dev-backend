{% extends 'base.html.twig' %}

{% block title %}Hello AccueilController!
{% endblock %}

{% block stylesheets %}
{% endblock %}

{% block body %}
	<style type="text/css">
		caption/* Titre du tableau */
		{
			margin: auto auto 20px; /* Centre le titre du tableau */
			font-family: Arial, Times, "Times New Roman", serif;
			font-weight: bold;
			font-size: 1.2em;
			color: #009900; /* Pour éviter que le titre ne soit trop collé au tableau en-dessous */
		}

		table/* Le tableau en lui-même */
		{
			margin: auto; /* Centre le tableau */
			border: 4px outset green; /* Bordure du tableau avec effet 3D (outset) */
			border-collapse: collapse; /* Colle les bordures entre elles */
			width: 100%;
		}
		th/* Les cellules d'en-tête */
		{
			background-color: #006600;
			color: white;
			font-size: 1.1em;
			font-family: Arial, "Arial Black", Times, "Times New Roman", serif;
			border: 1px solid red;
		}

		td/* Les cellules normales */
		{
			font-size: 0.8em;
			border: 1px solid black;
			font-family: Verdana, "Trebuchet MS", Times, "Times New Roman", serif;
			text-align: center; /* Tous les textes des cellules seront centrés*/
			padding: 5px; /* Petite marge intérieure aux cellules pour éviter que le texte touche les bordures */
			height: 25px;
			width: 200px;
		}
		td.time {
			font-size: 1em;
			height: 50px;
			width: 100px;
		}
	</style>
        <div class="container-fluid bg-danger">
            <div id="carouselExampleCaptions" class="carousel slide" data-mdb-ride="carousel">
                <div class="carousel-indicators mb-0 mt-3">
                    {% set isFirst = true %}
                    {% for message in messages | sort((a, b) => b.priorite <=> a.priorite) | slice(0, 3) %} 
                    {% if isFirst == true %}

                        <a
                        type="button"
                        data-mdb-target="#carouselExampleCaptions"
                        data-mdb-slide-to={{ loop.index0 }}
                        class="active "
                        aria-current="true"
                        aria-label={{ message.message | upper }}
                        ></a>

                    {% else  %}

                        <a
                        type="button"
                        data-mdb-target="#carouselExampleCaptions"
                        data-mdb-slide-to={{ loop.index0 }}
                        aria-current="true"
                        aria-label={{ message.message }}
                        ></a>

                    {% endif  %}
                    {% set isFirst = false %}
                    {% endfor %}
                </div>
                <div class="carousel-inner">
                {% set isFirst = true %}
                {% set i = 0 %}
                {% for message in messages | sort((a, b) => b.priorite <=> a.priorite) | slice(0, 3) %}   
                {% if isFirst == true %}

                    <div class="carousel-item active">
                    {% set isFirst = true %}
							<a href="{{ path("message_urgent", {id: message.id}) }}">
                            <div class="carousel-caption d-none d-md-block position-static nopadding">
                                <h2>{{ message.message | upper  }}</h2>
                            </div>
                        </a>
                    </div>

                {% else %}

                    <div class="carousel-item">
							<a href="{{ path("message_urgent", {id: message.id}) }}">
                            <div class="carousel-caption d-none d-md-block position-static nopadding">
                                <h2>{{ message.message | upper  }}</h2>
                            </div>
                        </a>
                    </div>
                
                {% endif %}
                {% set isFirst = false %}
                {% endfor %}

                </div>

            </div>
        </div>

	<h1>Bienvenue au Festival LiveEvents</h1>

	Retrouvez vos artistes préféré en live
	<br/><br/>
	<h3>ici ce placera l'alerte</h3>
	<br/><br/>
	<h3>ici ce placera le concert</h3>
	<title>Mon super emploi du temps</title>

	
	<label>Selectionnez un programme : </label>
	{{ form(formFiltre) }}



<h4 class="mt-4 mb-4">Les concerts : </h4>
<table class="table mb-4">
  <thead class="thead-light">
    <tr>
      <th scope="col">#</th>
	  <th scope="col">Programme</th>
	  <th scope="col">Date</th>
      <th scope="col">Groupe</th>
      <th scope="col">Horaires</th>
      <th scope="col">Durée</th>
      <th scope="col">Lieu</th>
	  
    </tr>
  </thead>
  <tbody>
    {% for concert in concertsfiltre %}

    <tr>
      <th scope="row">{{ concert.id }}</th>
      <td>{{ concert.programmeid.name}}</td>
	  <td>{{ concert.programmeid.date|date('d-m-Y') }}</td>
      <td>{{ concert.groupe.nom}}</td>
      <td>
	  {{ concert.horairedebut|date('H:i:s') }}
      {{ concert.horairefin|date('H:i:s') }}
	  </td>
      <td>{{ concert.duree }}</td>
      <td>{{ concert.emplacement }}</td>
	  
      

    </tr>
    {% endfor %}

</table>

	<br/><br/>
	<h3>ici ce placera le lien vers la boutique</h3>
	<a href="{{ path('live_events_Boutique') }}" class="btn btn-primary-outline sensitive">
		Aller à la boutique
	</a>
	<br/><br/>
	<h3>ici ce placera la map interactive</h3>
	<iframe src="https://www.google.com/maps/d/embed?mid=1YOhzjaL2tNn8QyeHFogBDwSxJG0pR64H" width="640" height="480"></iframe>

{% endblock %}
